
<!DOCTYPE html>
<html>
<head>
  <script>
  document.registerElement('service-worker', {
    prototype: Object.create(
      HTMLLinkElement.prototype, {
        createdCallback: {
          value: function() {
            var href = this.getAttribute('href');
            this.removeAttribute('href');
            if ('serviceWorker' in navigator) {
              navigator.serviceWorker.register(href);
              this.setAttribute('href', href);
            }
          }
        }
    }),
    extends: 'link'
  });
  </script>
  <link is="service-worker" rel="serviceworker" href="service-worker.js"/>
</head>
<body>
  THIS IS A TEST
  <link href="test.css" rel="stylesheet" />
  <link href="test2.css" rel="stylesheet" />
</body>
</html>
